on:
  workflow_dispatch:
  push:
    branches:
    - main
    
jobs:
  my_job:
    name: test python and push terraform
    runs-on: windows-latest
    
    steps:
    - uses: actions/checkout@v2
    - name: Configure AWS Credentials
      uses: aws-actions/configure-aws-credentials@master
      with:
        aws-region: ${{ secrets.AWS_SECRET_ACCESS_REGION }}
        role-to-assume: arn:aws:iam::${{ secrets.AWS_SECRET_ACCESS_REGION }}:role/${{ secrets.AWS_SECRET_ACCESS_GITUB_RUNNER_ROLE }}
        role-session-name: GithubActionsSession

    - run: aws sts get-caller-identity
      
    
